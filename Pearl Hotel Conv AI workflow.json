{
  "agent_id": "",
  "channel": "voice",
  "last_modification_timestamp": 1750235556526,
  "agent_name": "Pearl Hotel",
  "response_engine": {
    "type": "conversation-flow",
    "version": 0,
    "conversation_flow_id": "conversation_flow_f36dbe01c59f"
  },
  "language": "en-US",
  "opt_out_sensitive_data_storage": false,
  "opt_in_signed_url": false,
  "end_call_after_silence_ms": 62000,
  "version": 0,
  "is_published": false,
  "version_title": "5",
  "post_call_analysis_model": "gpt-4o-mini",
  "voice_id": "11labs-Evie",
  "max_call_duration_ms": 3600000,
  "interruption_sensitivity": 0.8,
  "normalize_for_speech": true,
  "enable_voicemail_detection": false,
  "allow_user_dtmf": true,
  "user_dtmf_options": {},
  "retellLlmData": null,
  "conversationFlow": {
    "conversation_flow_id": "conversation_flow_f36dbe01c59f",
    "version": 0,
    "global_prompt": "#ROLE\n\nYou are Evie, you work for pearl hotel. You are a digital receptionist helping new or existing customers with our services.\n\n#TASK\n\nYour Tasks:\n- Help customers to make new bookings.\n- Help customers to check in or check out of our hotel.\n- Teach about our hotel services.\n- Provide recommendations for food and activities.\n- Help with room service requests.\n- Help with housekeeping requests.\n- Transfer call to the receptionist.",
    "nodes": [
      {
        "instruction": {
          "type": "static_text",
          "text": "Hello I'm Evie from pearl hotel, how can i help you today?"
        },
        "name": "Welcome Node",
        "edges": [
          {
            "condition": "If user wants to book room",
            "id": "edge-1744784764200",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If user wants to book room"
            },
            "destination_node_id": "node-1744785051415"
          },
          {
            "condition": "If user wants to check in",
            "id": "edge-1744874453853",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If user wants to check in"
            },
            "destination_node_id": "node-1744875077514"
          },
          {
            "condition": "If user wants to check out",
            "id": "edge-1744874464888",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If user wants to check out"
            },
            "destination_node_id": "node-1745221387749"
          }
        ],
        "start_speaker": "agent",
        "id": "start-node-1744784596362",
        "type": "conversation",
        "display_position": {
          "x": -247.37061752540194,
          "y": 36.25726046640883
        }
      },
      {
        "name": "Conversation",
        "edges": [
          {
            "condition": "User provided all the above mentioned details to book room",
            "id": "edge-1744785051415",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User provided all the above mentioned details to book room"
            },
            "destination_node_id": "node-1744785168034"
          },
          {
            "condition": "User not provided any of the above mentioned details to book room",
            "id": "edge-1744785093331",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User not provided any of the above mentioned details to book room"
            },
            "destination_node_id": "node-1744785216515"
          }
        ],
        "id": "node-1744785051415",
        "type": "conversation",
        "display_position": {
          "x": 330.48017068759236,
          "y": -990.3096965682576
        },
        "instruction": {
          "type": "prompt",
          "text": "Welcome! Thanks for choosing us, Ask the Name, Check in date, Check out date, Number of Guests, Room Type(Single, Double, Deluxe, Suite), Number of Rooms required, Contact Number, Email Address, ID Proof Type, ID Proof Number, Special Requests, ask these details one by one. At last repeat the details which are gathered from the             customer, only for  ID Proof  Number                and Email Address once repeat with the each character."
        }
      },
      {
        "tool_id": "tool-1744785164633",
        "name": "roomBooking",
        "edges": [
          {
            "condition": "If the booking is success",
            "id": "edge-1744785185771",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If booking is success"
            },
            "destination_node_id": "node-1744791618380"
          }
        ],
        "id": "node-1744785168034",
        "type": "function",
        "tool_type": "local",
        "speak_during_execution": false,
        "display_position": {
          "x": 770.8544803818992,
          "y": -1038.7165740941555
        },
        "wait_for_result": true
      },
      {
        "name": "Conversation",
        "edges": [
          {
            "condition": "user provided details to book room",
            "id": "edge-1744785216515",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User provided all the above mentioned details to book room"
            },
            "destination_node_id": "node-1744785168034"
          },
          {
            "condition": "user not provided details to book room",
            "id": "edge-1744785272652",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User not provided any of the above mentioned details to book room"
            },
            "destination_node_id": "node-1744785315711"
          }
        ],
        "id": "node-1744785216515",
        "type": "conversation",
        "display_position": {
          "x": 744.7842528059239,
          "y": -454.81590723105217
        },
        "instruction": {
          "type": "prompt",
          "text": "Sorry, we are unable to process the room booking without your details, Ask the Name, Check in date, Check out date, Number of Guests, Room Type(Single, Double, Deluxe, Suite), Number of Rooms required, Contact Number, Email Address, ID Proof Type, ID Proof Number, Special Request, ask these details one by one. At last repeat the details which are gathered from the customer, only for  ID Proof Number and Email Address once repeat with the each character.                        "
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Sorry we are unable to book the room via the phone, we are now transfer you to our reception."
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1744785315711",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1744785315711",
        "type": "conversation",
        "display_position": {
          "x": 1232.4473983627133,
          "y": -291.55309403305125
        },
        "skip_response_edge": {
          "condition": "Skip response",
          "id": "edge-1744785322215",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          },
          "destination_node_id": "node-1744785335458"
        }
      },
      {
        "transfer_destination": {
          "type": "predefined",
          "number": "+12134447777"
        },
        "edge": {
          "condition": "Transfer failed",
          "id": "edge-1744785335458",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Transfer failed"
          },
          "destination_node_id": "node-1744785343261"
        },
        "instruction": {
          "type": "prompt",
          "text": "Transferring your call now."
        },
        "name": "Transfer Call",
        "id": "node-1744785335458",
        "transfer_option": {
          "type": "cold_transfer",
          "show_transferee_as_caller": false
        },
        "type": "transfer_call",
        "display_position": {
          "x": 1730.8722446470663,
          "y": -261.2228811358351
        }
      },
      {
        "name": "End Call",
        "id": "node-1744785343261",
        "type": "end",
        "display_position": {
          "x": 2280.133114593247,
          "y": -229.09136378016598
        },
        "instruction": {
          "type": "prompt",
          "text": "Politely end the call"
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "congrats booking is successful, check your mail for details and use the booking code while check in and check out the room. Thnakyou."
        },
        "name": "Conversation",
        "edges": [],
        "id": "node-1744791618380",
        "type": "conversation",
        "display_position": {
          "x": 1124.732563273649,
          "y": -1373.7227066031355
        },
        "skip_response_edge": {
          "id": "edge-1750228658381",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Thank them for reaching out, ask the booking code to check-in"
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "User has provided their booking code",
            "id": "edge-1744875077514",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User has provided their {{Booking Code}}"
            },
            "destination_node_id": "node-1744875172707"
          },
          {
            "condition": "User has not provided their booking code",
            "id": "edge-1744875106606",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User has not provided their {{Booking Code}}"
            },
            "destination_node_id": "node-1744875604536"
          }
        ],
        "global_node_setting": {
          "condition": "Describe the condition to jump to this node"
        },
        "id": "node-1744875077514",
        "type": "conversation",
        "display_position": {
          "x": 1145.6362916405637,
          "y": 440.72486291641974
        }
      },
      {
        "tool_id": "tool-1744875169340",
        "name": "Checkin",
        "edges": [
          {
            "condition": "if the [checkInCode] is valid",
            "id": "edge-1744875368940",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If the [checkInCode] is valid"
            },
            "destination_node_id": "node-1744875447864"
          },
          {
            "condition": "if the [checkInCode] is invalid",
            "id": "edge-1744875395385",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If the [checkInCode] is invalid"
            },
            "destination_node_id": "node-1744875463181"
          }
        ],
        "id": "node-1744875172707",
        "type": "function",
        "tool_type": "local",
        "speak_during_execution": false,
        "display_position": {
          "x": 1565.8960488333994,
          "y": 324.3531948738398
        },
        "wait_for_result": true
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Thankyou for confirming your booking code, we have now checked in for your room."
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1744875447864",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1744875447864",
        "type": "conversation",
        "display_position": {
          "x": 1961.3815584052686,
          "y": 151.60986488523173
        },
        "skip_response_edge": {
          "id": "edge-1750616853576",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "respond them that, the provided booking code in invalid, ask them to re-initiate the flow."
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1744875463181",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1744875463181",
        "type": "conversation",
        "display_position": {
          "x": 2024.3005210763467,
          "y": 528.9977906294969
        },
        "skip_response_edge": {
          "condition": "Skip response",
          "id": "edge-1744875526865",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "respond them that, they have not provided the booking code, ask them to re-initiate the flow."
        },
        "name": "Conversation",
        "edges": [],
        "id": "node-1744875604536",
        "type": "conversation",
        "display_position": {
          "x": 1596.1228187193592,
          "y": 639.4935438521686
        },
        "skip_response_edge": {
          "condition": "Skip response",
          "id": "edge-1744875650357",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Thank them for reaching out, ask the booking code to check-out"
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "User has provided their booking code",
            "id": "edge-1745221387749",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User has provided their booking code"
            },
            "destination_node_id": "node-1745221510114"
          },
          {
            "condition": "User has not provided their booking code",
            "id": "edge-1745221403711",
            "transition_condition": {
              "type": "prompt",
              "prompt": "User has not provided their booking code"
            },
            "destination_node_id": "node-1745221420365"
          }
        ],
        "global_node_setting": {
          "condition": "Describe the condition to jump to this node"
        },
        "id": "node-1745221387749",
        "type": "conversation",
        "display_position": {
          "x": 903.3333333333337,
          "y": 1483.3333333333328
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "respond them that, they have not provided the booking code, ask them to re-initiate the flow."
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1745221420365",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1745221420365",
        "type": "conversation",
        "display_position": {
          "x": 1321.666666666667,
          "y": 1853.3333333333328
        },
        "skip_response_edge": {
          "condition": "Skip response",
          "id": "edge-1745221435705",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "tool_id": "tool-1745221470945",
        "name": "Checkout",
        "edges": [
          {
            "condition": "If the [checkOutCode] is valid",
            "id": "edge-1745221551718",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If the [checkOutCode] is valid"
            },
            "destination_node_id": "node-1745221609608"
          },
          {
            "condition": "If the [checkOutCode] is invalid",
            "id": "edge-1745221571594",
            "transition_condition": {
              "type": "prompt",
              "prompt": "If the [checkOutCode] is invalid"
            },
            "destination_node_id": "node-1745221623811"
          }
        ],
        "id": "node-1745221510114",
        "type": "function",
        "tool_type": "local",
        "speak_during_execution": false,
        "display_position": {
          "x": 1333.6508492201344,
          "y": 1474.91564096837
        },
        "wait_for_result": true
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Thankyou for confirming your booking code, we have now checked out for your room."
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1745221609608",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1745221609608",
        "type": "conversation",
        "display_position": {
          "x": 1774.4389697352817,
          "y": 1256.3105049661863
        },
        "skip_response_edge": {
          "id": "edge-1750616993004",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      },
      {
        "instruction": {
          "type": "prompt",
          "text": "Respond them that, you must checked in before checking out or the provided booking code is invalid. Kindly double check the above mentioned criteria before check out. Thank you!             "
        },
        "name": "Conversation",
        "edges": [
          {
            "condition": "Describe the transition condition",
            "id": "edge-1745221623811",
            "transition_condition": {
              "type": "prompt",
              "prompt": "Describe the transition condition"
            }
          }
        ],
        "id": "node-1745221623811",
        "type": "conversation",
        "display_position": {
          "x": 1813.2963131258653,
          "y": 1611.16169105406
        },
        "skip_response_edge": {
          "condition": "Skip response",
          "id": "edge-1745221633091",
          "transition_condition": {
            "type": "prompt",
            "prompt": "Skip response"
          }
        }
      }
    ],
    "start_node_id": "start-node-1744784596362",
    "start_speaker": "agent",
    "tools": [
      {
        "parameter_type": "json",
        "tool_id": "tool-1744785164633",
        "timeout_ms": 120000,
        "name": "roomBooking",
        "description": "While user booking the room",
        "type": "custom",
        "parameters": {
          "type": "object",
          "properties": {
            "emailAddress": {
              "type": "string",
              "description": "Guest's email address. Will be repeated character by character at the end."
            },
            "checkOutDate": {
              "type": "string",
              "description": "Date of check-out in YYYY-MM-DD format."
            },
            "idProofNumber": {
              "type": "string",
              "description": "Identification number. Will be repeated character by character at the end."
            },
            "name": {
              "type": "string",
              "description": "Full name of the guest making the booking."
            },
            "contactNumber": {
              "type": "string",
              "description": "Guest's contact phone number."
            },
            "numberOfGuests": {
              "type": "integer",
              "description": "Total number of guests staying."
            },
            "specialRequest": {
              "type": "string",
              "description": "Any special request from the guest (e.g., late check-in, extra pillows, wheelchair access)."
            },
            "numberOfRooms": {
              "type": "integer",
              "description": "Number of rooms required."
            },
            "idProofType": {
              "type": "string",
              "description": "Type of identification proof provided by the guest (e.g., Passport, Driver's License, National ID, Aadhar Card)."
            },
            "checkInDate": {
              "type": "string",
              "description": "Date of check-in in YYYY-MM-DD format."
            },
            "roomType": {
              "type": "string",
              "description": "Type of room the guest wants to book.",
              "enum": [
                "Single",
                "Double",
                "Deluxe",
                "Suite"
              ]
            }
          },
          "required": [
            "name",
            "checkInDate",
            "checkOutDate",
            "numberOfGuests",
            "roomType",
            "numberOfRooms",
            "contactNumber",
            "emailAddress",
            "idProofType",
            "idProofNumber",
            "specialRequest"
          ]
        },
        "url": "https://avineshharikrishnan.app.n8n.cloud/webhook-test/a3a0e1a9-7e5b-46e0-8457-7c3dab90a32c"
      },
      {
        "parameter_type": "json",
        "tool_id": "tool-1744875169340",
        "timeout_ms": 120000,
        "name": "checkIn",
        "description": "While user checkin the room",
        "response_variables": [],
        "type": "custom",
        "parameters": {
          "type": "object",
          "properties": {
            "checkInCode": {
              "type": "string",
              "description": "The timestamp of the appointment that is available for booking."
            }
          },
          "required": [
            "checkInCode"
          ]
        },
        "url": "https://avineshharikrishnan.app.n8n.cloud/webhook-test/29120ea8-d29e-42c4-932f-f5b08aabfa4a"
      },
      {
        "parameter_type": "json",
        "tool_id": "tool-1745221470945",
        "timeout_ms": 120000,
        "name": "checkOut",
        "description": "while user checkout the hotel",
        "type": "custom",
        "parameters": {
          "type": "object",
          "properties": {
            "checkOutCode": {
              "type": "string",
              "description": "The timestamp of the appointment that is available for booking."
            }
          },
          "required": [
            "checkOutCode"
          ]
        },
        "url": "https://avineshharikrishnan.app.n8n.cloud/webhook-test/c033d2ca-eada-4d5c-8f35-a953fa2a98ad"
      }
    ],
    "model_choice": {
      "type": "cascading",
      "model": "gpt-4o-mini",
      "high_priority": false
    },
    "knowledge_base_ids": [],
    "begin_tag_display_position": {
      "x": -641.4425990134142,
      "y": 43.17456889305571
    },
    "is_published": false
  },
  "llmURL": null
}